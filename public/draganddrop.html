<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
			integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
			crossorigin="anonymous"
		/>
		<link rel="stylesheet" href="dist/dropzone.css" />
		<script src="dist/dropzone.js"></script>
	</head>
	<body>
		<form action="/file-upload" class="dropzone">
			<div class="fallback">
				<input name="file" type="file" multiple />
			</div>
			<div class="dz-progress">
				<span class="dz-upload" data-dz-uploadprogress></span>
			</div>
			<div class="dz-success-mark"><span>✔</span></div>
			<div class="dz-error-mark"><span>✘</span></div>
			<div class="dz-error-message"><span data-dz-errormessage></span></div>
		</form>

		<script>
			Dropzone.options.myAwesomeDropzone = {
				// The camelized version of the ID of the form element

				// The configuration we've talked about above
				autoProcessQueue: false,
				uploadMultiple: true,
				parallelUploads: 100,
				maxFiles: 100,
				maxFilesize: 2,

				// The setting up of the dropzone
				init: function () {
					this.on('addedfile', function (file) {
						alert('Added file.');
					});

					// First change the button to actually tell Dropzone to process the queue.
					this.element
						.querySelector('button[type=submit]')
						.addEventListener('click', function (e) {
							// Make sure that the form isn't actually being sent.
							e.preventDefault();
							e.stopPropagation();
							myDropzone.processQueue();
						});

					// Listen to the sendingmultiple event. In this case, it's the sendingmultiple event instead
					// of the sending event because uploadMultiple is set to true.
					this.on('sendingmultiple', function () {
						// Gets triggered when the form is actually being sent.
						// Hide the success button or the complete form.
					});
					this.on('successmultiple', function (files, response) {
						// Gets triggered when the files have successfully been sent.
						// Redirect user or notify of success.
					});
					this.on('errormultiple', function (files, response) {
						// Gets triggered when there was an error sending the files.
						// Maybe show form again, and notify user of error
					});

					this.on('totaluploadprogress', function (files, response) {
						// Gets triggered when there was an error sending the files.
						// Maybe show form again, and notify user of error
					});

					this.on('completemultiple', function (files, response) {
						// Gets triggered when there was an error sending the files.
						// Maybe show form again, and notify user of error
					});
				},
			};
		</script>
	</body>
</html>
